<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>HSGen.Recompiler.Class</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_HSGen-Recompiler-Class.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/HSGen-Recompiler-Class.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cplug-0.2.0.0: Recompile and run partially applied C functions in Haskell, during runtime</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">HSGen.Recompiler.Class</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> <a href="#t:Resolvable">Resolvable</a> a r | a -&gt; r <span class="keyword">where</span><ul class="subs"><li><a href="#v:resolve">resolve</a> :: a -&gt; r</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:Compilable">Compilable</a> a r b s | a -&gt; r, b -&gt; s, a s -&gt; b, r b -&gt; a <span class="keyword">where</span><ul class="subs"><li><a href="#v:-36--36--36-">($$$)</a> :: (r -&gt; s) -&gt; a -&gt; b</li></ul></li><li class="src short"><a href="#v:-36--36-">($$)</a> :: <a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> (t -&gt; a) b) t1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) =&gt; (t -&gt; a1) -&gt; t -&gt; t1</li><li class="src short"><span class="keyword">class</span> <a href="#t:FixResolvable">FixResolvable</a> a r | a -&gt; r <span class="keyword">where</span><ul class="subs"><li><a href="#v:fixResolve">fixResolve</a> :: a -&gt; r</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:FixCompilable">FixCompilable</a> a r b s | a -&gt; r, b -&gt; s, a s -&gt; b, r b -&gt; a <span class="keyword">where</span><ul class="subs"><li><a href="#v:-35--35--35-">(###)</a> :: (r -&gt; s) -&gt; a -&gt; b</li></ul></li><li class="src short"><a href="#v:-35--35-">(##)</a> :: <a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> a (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> (r -&gt; a1) b) (r -&gt; r1) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a1 b) =&gt; a -&gt; r -&gt; r1</li><li class="src short"><a href="#v:apInOut">apInOut</a> :: <a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a b b c =&gt; (b -&gt; c) -&gt; a -&gt; c</li><li class="src short"><a href="#v:fixApInOut">fixApInOut</a> :: <a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> a b b c =&gt; (b -&gt; c) -&gt; a -&gt; c</li><li class="src short"><a href="#v:flipC">flipC</a> :: <a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (a -&gt; b -&gt; c) c (b -&gt; a -&gt; c) =&gt; (a -&gt; b -&gt; a1) -&gt; b -&gt; a -&gt; c</li><li class="src short"><a href="#v:fixFlipC">fixFlipC</a> :: <a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> a (a1 -&gt; b -&gt; c) (a1 -&gt; b -&gt; c) (b -&gt; a1 -&gt; c) =&gt; a -&gt; b -&gt; a1 -&gt; c</li><li class="src short"><a href="#v:replaceFW">replaceFW</a> :: a -&gt; <a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b -&gt; <a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b</li><li class="src short"><a href="#v:compile">compile</a> :: (<a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) r (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b), <a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b1)) =&gt; a1 -&gt; r</li><li class="src short"><a href="#v:fixCompile">fixCompile</a> :: (<a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) r (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b), <a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b1)) =&gt; a1 -&gt; r</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Resolvable" class="def">Resolvable</a> a r | a -&gt; r <span class="keyword">where</span> <a href="src/HSGen-Recompiler-Class.html#Resolvable" class="link">Source</a></p><div class="doc"><p>This class is of functions with type <code>a</code> and final return type <code>r</code>.
 Additionally, <code>r</code> should be of the form: <code><a href="Data-Wrapped.html#t:Wrapped">Wrapped</a></code> a b</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:resolve" class="def">resolve</a> :: a -&gt; r <a href="src/HSGen-Recompiler-Class.html#resolve" class="link">Source</a></p><div class="doc"><p><code><a href="HSGen-Recompiler-Class.html#v:resolve">resolve</a></code> resolves a &quot;<code><a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a></code> a r&quot; to <code>r</code></p></div></div><div class="subs instances"><p id="control.i:Resolvable" class="caption collapser" onclick="toggleSection('i:Resolvable')">Instances</p><div id="section.i:Resolvable" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a> a r =&gt; <a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a> (t -&gt; a) r</span> <a href="src/HSGen-Recompiler-Class.html#line-31" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a> (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b)</span> <a href="src/HSGen-Recompiler-Class.html#line-27" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Compilable" class="def">Compilable</a> a r b s | a -&gt; r, b -&gt; s, a s -&gt; b, r b -&gt; a <span class="keyword">where</span> <a href="src/HSGen-Recompiler-Class.html#Compilable" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:-36--36--36-" class="def">($$$)</a> :: (r -&gt; s) -&gt; a -&gt; b <span class="fixity">infixr 2</span><span class="rightedge"></span> <a href="src/HSGen-Recompiler-Class.html#%24%24%24" class="link">Source</a></p><div class="doc"><p>`($$$) f wrappedFunction` essentially applies <code>f</code> directly to the
  <code><a href="Data-Wrapped.html#t:Wrapped">Wrapped</a></code> part of <code>wrappedFunction</code>.</p></div></div><div class="subs instances"><p id="control.i:Compilable" class="caption collapser" onclick="toggleSection('i:Compilable')">Instances</p><div id="section.i:Compilable" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a r b s =&gt; <a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> (t -&gt; a) r (t -&gt; b) s</span> <a href="src/HSGen-Recompiler-Class.html#line-45" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> c d) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> c d)</span> <a href="src/HSGen-Recompiler-Class.html#line-41" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:-36--36-" class="def">($$)</a> :: <a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> (t -&gt; a) b) t1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) =&gt; (t -&gt; a1) -&gt; t -&gt; t1 <span class="fixity">infixl 1</span><span class="rightedge"></span> <a href="src/HSGen-Recompiler-Class.html#%24%24" class="link">Source</a></p><div class="doc"><p>Given a simple <code><a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a></code> function:</p><pre>   plus :: Int -&gt; Int -&gt; Wrapped (Int -&gt; Int -&gt; Int) Int
</pre><p>You can use `($$)` to apply <code>plus</code> to both the outer (<code><a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></code> -&gt; <code><a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></code> -&gt; ..)
 and innner (<code><a href="Data-Wrapped.html#t:Wrapped">Wrapped</a></code> (<code><a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></code> -&gt; ..)) functions of <code>plus</code>. For example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>plus $$ 1 $$ 2
</code></strong>Wrap 3 3
</pre></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:FixResolvable" class="def">FixResolvable</a> a r | a -&gt; r <span class="keyword">where</span> <a href="src/HSGen-Recompiler-Class.html#FixResolvable" class="link">Source</a></p><div class="doc"><p>See <code><a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a></code></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:fixResolve" class="def">fixResolve</a> :: a -&gt; r <a href="src/HSGen-Recompiler-Class.html#fixResolve" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:FixResolvable" class="caption collapser" onclick="toggleSection('i:FixResolvable')">Instances</p><div id="section.i:FixResolvable" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:FixResolvable">FixResolvable</a> a r =&gt; <a href="HSGen-Recompiler-Class.html#t:FixResolvable">FixResolvable</a> (<a href="Data-Fixable.html#t:Fix">Fix</a> t -&gt; a) r</span> <a href="src/HSGen-Recompiler-Class.html#line-73" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:FixResolvable">FixResolvable</a> (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b)</span> <a href="src/HSGen-Recompiler-Class.html#line-69" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:FixCompilable" class="def">FixCompilable</a> a r b s | a -&gt; r, b -&gt; s, a s -&gt; b, r b -&gt; a <span class="keyword">where</span> <a href="src/HSGen-Recompiler-Class.html#FixCompilable" class="link">Source</a></p><div class="doc"><p>See <code><a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a></code></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:-35--35--35-" class="def">(###)</a> :: (r -&gt; s) -&gt; a -&gt; b <span class="fixity">infixr 2</span><span class="rightedge"></span> <a href="src/HSGen-Recompiler-Class.html#%23%23%23" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:FixCompilable" class="caption collapser" onclick="toggleSection('i:FixCompilable')">Instances</p><div id="section.i:FixCompilable" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> a r b s =&gt; <a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> (<a href="Data-Fixable.html#t:Fix">Fix</a> t -&gt; a) r (<a href="Data-Fixable.html#t:Fix">Fix</a> t -&gt; b) s</span> <a href="src/HSGen-Recompiler-Class.html#line-85" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> c d) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> c d)</span> <a href="src/HSGen-Recompiler-Class.html#line-81" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:-35--35-" class="def">(##)</a> :: <a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> a (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> (r -&gt; a1) b) (r -&gt; r1) (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a1 b) =&gt; a -&gt; r -&gt; r1 <a href="src/HSGen-Recompiler-Class.html#%23%23" class="link">Source</a></p><div class="doc"><p>See `($$)`</p></div></div><div class="top"><p class="src"><a name="v:apInOut" class="def">apInOut</a> :: <a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a b b c =&gt; (b -&gt; c) -&gt; a -&gt; c <a href="src/HSGen-Recompiler-Class.html#apInOut" class="link">Source</a></p><div class="doc"><p>Apply a function to a <code><a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a></code> from the outside
 (just regular application) and also inside (`($$$)`)</p></div></div><div class="top"><p class="src"><a name="v:fixApInOut" class="def">fixApInOut</a> :: <a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> a b b c =&gt; (b -&gt; c) -&gt; a -&gt; c <a href="src/HSGen-Recompiler-Class.html#fixApInOut" class="link">Source</a></p><div class="doc"><p>See <code><a href="HSGen-Recompiler-Class.html#v:apInOut">apInOut</a></code></p></div></div><div class="top"><p class="src"><a name="v:flipC" class="def">flipC</a> :: <a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (a -&gt; b -&gt; c) c (b -&gt; a -&gt; c) =&gt; (a -&gt; b -&gt; a1) -&gt; b -&gt; a -&gt; c <a href="src/HSGen-Recompiler-Class.html#flipC" class="link">Source</a></p><div class="doc"><p>Flip a compilable function</p></div></div><div class="top"><p class="src"><a name="v:fixFlipC" class="def">fixFlipC</a> :: <a href="HSGen-Recompiler-Class.html#t:FixCompilable">FixCompilable</a> a (a1 -&gt; b -&gt; c) (a1 -&gt; b -&gt; c) (b -&gt; a1 -&gt; c) =&gt; a -&gt; b -&gt; a1 -&gt; c <a href="src/HSGen-Recompiler-Class.html#fixFlipC" class="link">Source</a></p><div class="doc"><p>See <code><a href="HSGen-Recompiler-Class.html#v:flipC">flipC</a></code></p></div></div><div class="top"><p class="src"><a name="v:replaceFW" class="def">replaceFW</a> :: a -&gt; <a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b -&gt; <a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b <a href="src/HSGen-Recompiler-Class.html#replaceFW" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compile" class="def">compile</a> :: (<a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) r (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b), <a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b1)) =&gt; a1 -&gt; r <a href="src/HSGen-Recompiler-Class.html#compile" class="link">Source</a></p><div class="doc"><p>Compile a compilable function, essentially by resolving to the wrapped
 function and return value, unwrapping the non-compilable function (i.e.
 getting the compiled version), and replacing the original non-compilable
 function.</p></div></div><div class="top"><p class="src"><a name="v:fixCompile" class="def">fixCompile</a> :: (<a href="HSGen-Recompiler-Class.html#t:Compilable">Compilable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b) r (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b), <a href="HSGen-Recompiler-Class.html#t:Resolvable">Resolvable</a> a1 (<a href="Data-Wrapped.html#t:Wrapped">Wrapped</a> a b1)) =&gt; a1 -&gt; r <a href="src/HSGen-Recompiler-Class.html#fixCompile" class="link">Source</a></p><div class="doc"><p>See <code><a href="HSGen-Recompiler-Class.html#v:compile">compile</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>